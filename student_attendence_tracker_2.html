<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Attendance Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Sniglet&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: whitesmoke;
            font-family: 'sniglet', cursive;
            letter-spacing: 0.05em;
        }

        table {
            position: absolute;
            left: 12%;
            width: 70%;
            margin-top: 100px;
            text-align: center;
            box-shadow: 0 0 8px black;
        }

        h1 {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 50px;
        }

        th,
        td {
            padding: 10px;
            background: white;
            border: 1px solid gray;
            font-weight: 500;
            font-size: large;
        }

        th {
            font-weight: 700;
        }

        button {
            padding: 5px;
        }

        .allprebtn {
            position: absolute;
            right: 50%;
            border-radius: 5px;
            border: none;
            height: 50px;
            width: 143px;
            font-weight: 700;
        }

        .allabsbtn {
            position: absolute;
            right: 35%;
            height: 50px;
            width: 143px;
            border-radius: 5px;
            border: none;
            font-weight: 700;
        }

        .savebtn {
            position: absolute;
            right: 18%;
            height: 50px;
            width: 180px;
            border-radius: 5px;
            border: none;
            font-weight: 700;
        }

        .uparrow {
            position: fixed;
            bottom: 20px;
            right: 20px;
            border: none;
            height: 70px;
            width: 80px;
            font-size: xx-large;
            font-weight: 700;
            border-radius: 50%;
            z-index: 100;
            cursor: pointer;
            display: none;
        }
    </style>
</head>

<body>
    <h1>--- Student Attendance Tracker ---</h1>

    <h4 style="position: absolute; left: 12%;">Total absent ~</h4>
    <span id="totalabs" style="position: absolute; left: 25%; top: 23.2%; font-size: larger;"></span>

    <button class="allprebtn  btn-success" onclick="allpre()">All Present</button>
    <button class="allabsbtn  btn-danger" onclick="allabs()">All Absent</button>
    <button class="savebtn btn-primary" onclick="saveAbsent()">Save Attendance</button>
    <button id="abc" class="uparrow bg-info text-white">&#8679;</button>


    <table>
        <thead>
            <th>Roll No.</th>
            <th>Name</th>
            <th>Status</th>
            <th colspan="2">Control</th>
        </thead>
        <tbody id="tblbody">
        </tbody>
    </table>

    <script>
        const students = [
            { rollNo: 101, name: "Jiya Kyada", status: "Pending" },
            { rollNo: 102, name: "Shah Dhvani Hitesh", status: "Pending" },
            { rollNo: 103, name: "Saraya Mohit Haresh", status: "Pending" },
            { rollNo: 104, name: "Zalavadiya Heet Siddharth", status: "Pending" },
            { rollNo: 105, name: "Darshil Dobariya", status: "Pending" },
            { rollNo: 106, name: "Nafisa Gandhi", status: "Pending" },
            { rollNo: 107, name: "Vasani Yashvi Niteshbhai", status: "Pending" },
            { rollNo: 108, name: "Delvadiya Manavkumar Kirtibhai", status: "Pending" },
            { rollNo: 109, name: "Ashara Palak Gopalbhai", status: "Pending" },
            { rollNo: 110, name: "Lunagariya Greshi Kamleshbhai", status: "Pending" },
            { rollNo: 111, name: "Nanavati Shrushti Gargesh", status: "Pending" },
            { rollNo: 112, name: "Ranpara Jay Manishbhai", status: "Pending" },
            { rollNo: 113, name: "Disha Mehta", status: "Pending" },
            { rollNo: 114, name: "Thummar Niraj Bhaveshbhai", status: "Pending" },
            { rollNo: 115, name: "Kachhava Nakul Umeshbhai", status: "Pending" },
            { rollNo: 116, name: "Kanabar Urva Darshanbhai", status: "Pending" },
            { rollNo: 117, name: "Nakar Dhruvil Hitesh", status: "Pending" },
            { rollNo: 118, name: "Poshiya Priyanshi Ajaybhai", status: "Pending" },
            { rollNo: 119, name: "Baravalia Dharitri Manharbhai", status: "Pending" },
            { rollNo: 120, name: "Muchhara Kashish Hiteshbhai", status: "Pending" },
            { rollNo: 121, name: "Chauhan Aditya Sureshbhai", status: "Pending" },
            { rollNo: 122, name: "Harsora Sakshi Ajaybhai", status: "Pending" },
            { rollNo: 123, name: "Katrodiya Sahil Rajeshbhai", status: "Pending" },
            { rollNo: 124, name: "Trambadiya Parikshit Parimalbhai", status: "Pending" },
            { rollNo: 125, name: "Padariya Preya Parasbhai", status: "Pending" },
            { rollNo: 126, name: "Gambhava Krushiben Manojbhai", status: "Pending" },
            { rollNo: 127, name: "Jadeja Vishwrajsinh Krushnasinh", status: "Pending" },
            { rollNo: 128, name: "Patel Jiya Sandipbhai", status: "Pending" },
            { rollNo: 129, name: "Pipalava Smit Ashvinbhai", status: "Pending" },
            { rollNo: 130, name: "Gohil Harshrajsinh Jitendrasinh", status: "Pending" },
            { rollNo: 131, name: "Kathiriya Arshi Keshubhai", status: "Pending" },
            { rollNo: 132, name: "Undhad Vishwa Rajesh", status: "Pending" },
            { rollNo: 133, name: "Diya Raiyani", status: "Pending" },
            { rollNo: 134, name: "Chavda Maulik Vinodbhai", status: "Pending" },
            { rollNo: 135, name: "Chavda Priyanka Prabodhbhai", status: "Pending" },
            { rollNo: 136, name: "Chavda Virendrasinh Ashwinbhai", status: "Pending" },
            { rollNo: 137, name: "Galani Krunal Chetanbhai", status: "Pending" },
            { rollNo: 138, name: "Kavar Suchi Vasantbhai", status: "Pending" },
            { rollNo: 139, name: "Odedara Nilesh Parbat", status: "Pending" },
            { rollNo: 140, name: "Vasani Dishita Nikhilkumar", status: "Pending" },
            { rollNo: 141, name: "Vachhani Vaishvi Manojkumar", status: "Pending" },
            { rollNo: 142, name: "Bhadania Ronit Yatinbhai", status: "Pending" },
            { rollNo: 143, name: "Chauhan Jenil Virenbhai", status: "Pending" },
            { rollNo: 144, name: "Virpara Krisha Rajeshbhai", status: "Pending" },
            { rollNo: 145, name: "Chandra Darshit Hiteshbhai", status: "Pending" },
            { rollNo: 146, name: "Detroja Ruchit Arvindbhai", status: "Pending" },
            { rollNo: 147, name: "Kapuriya Hepin Pravinbhai", status: "Pending" },
            { rollNo: 148, name: "Gohel Smit Ashvinbhai", status: "Pending" },
            { rollNo: 149, name: "Patel Kirtan Amitbhai", status: "Pending" },
            { rollNo: 150, name: "Ginoya Deep Kantilal", status: "Pending" },
            { rollNo: 151, name: "Marvaniya Jainish Dharmendrabhai", status: "Pending" },
            { rollNo: 152, name: "Ajudiya Yash Nareshbhai", status: "Pending" },
            { rollNo: 153, name: "Manas Borisagar", status: "Pending" },
            { rollNo: 154, name: "Joshi Soham Kamleshbhai", status: "Pending" },
            { rollNo: 155, name: "Kakadiya Khilan Manishbhai", status: "Pending" },
            { rollNo: 156, name: "Sidhdhapura Dhaval Dharmeshbhai", status: "Pending" },
            { rollNo: 157, name: "Sitapara Aryan Sunilbhai", status: "Pending" },
            { rollNo: 158, name: "Bhatasana Nainshi Pareshbhai", status: "Pending" },
            { rollNo: 159, name: "Malvaniya Viraj Jatinbhai", status: "Pending" },
            { rollNo: 160, name: "Tanisha Pambhar", status: "Pending" },
            { rollNo: 161, name: "Padshala Kuldeep Rajendrakumar", status: "Pending" },
            { rollNo: 162, name: "Bhimani Vishva Manishbhai", status: "Pending" },
            { rollNo: 163, name: "Karan Anushka Pintubhai", status: "Pending" },
            { rollNo: 164, name: "Vyas Kavya Sachin", status: "Pending" },
            { rollNo: 165, name: "Kamani Purna Hareshbhai", status: "Pending" },
            { rollNo: 166, name: "Mori Nandita Renishkumar", status: "Pending" },
            { rollNo: 167, name: "Ratanghayra Pankti Himanshu", status: "Pending" },
            { rollNo: 168, name: "Rupala Nikhil Kashmeeraben", status: "Pending" },
            { rollNo: 169, name: "Jadeja Shivrajsinh Girirajsinh", status: "Pending" },
            { rollNo: 170, name: "Hirva Satani", status: "Pending" },
            { rollNo: 171, name: "Raiyani Jenil Sanjaybhai", status: "Pending" },
            { rollNo: 172, name: "Chandpa Prince Sureshbhai", status: "Pending" },
            { rollNo: 173, name: "Faldu Vrajesh Sanjaybhai", status: "Pending" },
            { rollNo: 174, name: "Khambholiya Manya Parasharbhai", status: "Pending" },
            { rollNo: 175, name: "Prajapati Kaivalya Samir", status: "Pending" },
            { rollNo: 176, name: "Moral Aadit Shaileshbhai", status: "Pending" },
            { rollNo: 177, name: "Shihora Vibhu Chetanbhai", status: "Pending" },
            { rollNo: 178, name: "Kanani Kruti Jayeshbhai", status: "Pending" },
            { rollNo: 179, name: "Karoliya Princekumar Sandipbhai", status: "Pending" },
            { rollNo: 180, name: "Khunt Rutvi Hiteshbhai", status: "Pending" },
            { rollNo: 181, name: "Charadva Abhishek Virenbhai", status: "Pending" },
            { rollNo: 182, name: "Dave Krisha Kalpeshbhai", status: "Pending" },
            { rollNo: 183, name: "Janvi Kalaria", status: "Pending" },
            { rollNo: 184, name: "Rajwani Rohan Malik", status: "Pending" },
            { rollNo: 185, name: "Rana Parthrajsinh Bhupatsinh", status: "Pending" },
            { rollNo: 186, name: "Solanki Ronak Arvindbhai", status: "Pending" },
            { rollNo: 187, name: "Panchal Vedantkumar Niravbhai", status: "Pending" },
            { rollNo: 188, name: "Ambasana Venisha Hitenbhai", status: "Pending" },
            { rollNo: 189, name: "Raichura Smeet Rohitkumar", status: "Pending" },
            { rollNo: 190, name: "Gambhava Mirali Sureshbhai", status: "Pending" },
            { rollNo: 191, name: "Dave Dhruv Viralkumar", status: "Pending" },
            { rollNo: 192, name: "Ghetiya Ritu Pankajbhai", status: "Pending" },
            { rollNo: 193, name: "Radhanpara Saumya Jatinbhai", status: "Pending" },
            { rollNo: 194, name: "Yadav Gaurav Kaushikbhai", status: "Pending" },
            { rollNo: 195, name: "Buddhadev Misri Sanjaybhai", status: "Pending" },
            { rollNo: 196, name: "Joshi Kairav Paren", status: "Pending" },
            { rollNo: 197, name: "Savaliya Dhruvi Bharatbhai", status: "Pending" },
            { rollNo: 198, name: "Radhanpura Jeel Nimish", status: "Pending" },
            { rollNo: 199, name: "Savaliya Priyanshi Sureshbhai", status: "Pending" },
            { rollNo: 200, name: "Zala Bhavyadeepsinh Pruthvirajsinh", status: "Pending" },
            { rollNo: 201, name: "Sinha Milankumar Sujitkumar", status: "Pending" },
            { rollNo: 202, name: "Lakhtaria Kevin Homin", status: "Pending" },
            { rollNo: 203, name: "Moliya Kartavya Bhaveshbhai", status: "Pending" },
            { rollNo: 204, name: "Monpara Nij Hareshbhai", status: "Pending" },
            { rollNo: 205, name: "Divya Thakar", status: "Pending" },
            { rollNo: 206, name: "Mendapara Piyu Amishbhai", status: "Pending" },
            { rollNo: 207, name: "Pandya Karan Tusharbhai", status: "Pending" },
            { rollNo: 208, name: "Raval Meet Mohitkumar", status: "Pending" },
            { rollNo: 209, name: "Virpariya Heer Manishbhai", status: "Pending" },
            { rollNo: 210, name: "Bhanushali Hiral Bhaven", status: "Pending" },
            { rollNo: 211, name: "Kamaliya Akashkumar Rameshbhai", status: "Pending" },
            { rollNo: 212, name: "Popat Honey Nileshbhai", status: "Pending" },
            { rollNo: 213, name: "Badrakiya Meet Bharatbhai", status: "Pending" },
            { rollNo: 214, name: "Kanani Kavit Nareshbhai", status: "Pending" },
            { rollNo: 215, name: "Ambaliya Manan Jayeshbhai", status: "Pending" },
            { rollNo: 216, name: "Hinsu Umang Bharatbhai", status: "Pending" },
            { rollNo: 217, name: "Kakaniya Bhavy Niteshbhai", status: "Pending" },
            { rollNo: 218, name: "Padia Kartik Balkrishna", status: "Pending" },
            { rollNo: 219, name: "Mankada Hasan Shabbirhusain", status: "Pending" },
            { rollNo: 220, name: "Mehta Dhairy Kalpeshbhai", status: "Pending" },
            { rollNo: 221, name: "Mehta Het Lalitkumar", status: "Pending" },
            { rollNo: 222, name: "Kahan Sanghani", status: "Pending" },
            { rollNo: 223, name: "Gotani Himesh Sanjaybhai", status: "Pending" },
            { rollNo: 224, name: "Narola Yash Nileshbhai", status: "Pending" },
            { rollNo: 225, name: "Targata Dharmishtha Arjanbhai", status: "Pending" },
            { rollNo: 226, name: "Bhuva Tirth Shaileshbhai", status: "Pending" },
            { rollNo: 227, name: "Jadeja Yashraj Lakhdhirsinh", status: "Pending" },
            { rollNo: 228, name: "Krisha Pujara", status: "Pending" },
            { rollNo: 229, name: "Varsani Ritul Hirji", status: "Pending" },
            { rollNo: 230, name: "Parmar Dhyey Dharmendra", status: "Pending" },
            { rollNo: 231, name: "Shingala Mansi Rajeshbhai", status: "Pending" },
            { rollNo: 232, name: "Dobariya Jeel Upendrabhai", status: "Pending" },
            { rollNo: 233, name: "Khant Mannkumar Jigneshbhai", status: "Pending" },
            { rollNo: 234, name: "Yadav Neel Hiteshbhai", status: "Pending" },
            { rollNo: 235, name: "Andodariya Yash Maheshbhai", status: "Pending" },
            { rollNo: 236, name: "Hirani Jeelkumar Sanjaybhai", status: "Pending" },
            { rollNo: 237, name: "Mankad Shyamsundar Mitbhai", status: "Pending" },
            { rollNo: 238, name: "Agavan Rohan Farukbhai", status: "Pending" },
            { rollNo: 239, name: "Bhadja Zeel Satishkumar", status: "Pending" },
            { rollNo: 240, name: "Shreya Vijaybhai Bhundia", status: "Pending" },
            { rollNo: 241, name: "Aghara Keyur Hiteshbhai", status: "Pending" },
            { rollNo: 242, name: "Buddhadev Deep Nitinbhai", status: "Pending" },
            { rollNo: 243, name: "Godham Meet Maheshbhai", status: "Pending" },
            { rollNo: 244, name: "Katariya Trisha Ashvinbhai", status: "Pending" },
            { rollNo: 245, name: "Vekariya Jay Bipinbhai", status: "Pending" },
            { rollNo: 246, name: "Rutvi Gautami", status: "Pending" },
            { rollNo: 247, name: "Sankaliya Aryan Ashokbhai", status: "Pending" },
            { rollNo: 248, name: "Ghadiya Yashvi Sanjaybhai", status: "Pending" },
            { rollNo: 249, name: "Ved Chatvani", status: "Pending" },
            { rollNo: 250, name: "Ghorai Swati Sanjib", status: "Pending" },
            { rollNo: 251, name: "Karena Radhika Bharatbhai", status: "Pending" },
            { rollNo: 252, name: "Pandya Kruti Tusharbhai", status: "Pending" },
            { rollNo: 253, name: "Patel Tejkumar Niteshbhai", status: "Pending" },
            { rollNo: 254, name: "Sagpariya Mahee Nitinbhai", status: "Pending" },
            { rollNo: 255, name: "Sherasiya Shyam Sureshbhai", status: "Pending" },
            { rollNo: 256, name: "Liya Hirvita Rajendra", status: "Pending" },
            { rollNo: 257, name: "Ahir Krishna Manishbhai", status: "Pending" },
            { rollNo: 258, name: "Parmar Devanshu Gopalbhai", status: "Pending" },
            { rollNo: 259, name: "Tivari Astha Sureshbhai", status: "Pending" },
            { rollNo: 260, name: "Pal Kana Odedra", status: "Pending" },
            { rollNo: 261, name: "Sorathiya Nabhag Sanjaybhai", status: "Pending" },
            { rollNo: 262, name: "Chauhan Vishal Girishbhai", status: "Pending" },
            { rollNo: 263, name: "Kuchhadiya Vanita Bhima", status: "Pending" },
            { rollNo: 264, name: "Bhimani Naman Chiragbhai", status: "Pending" },
            { rollNo: 265, name: "Diyora Miraj Bhaveshbhai", status: "Pending" },
            { rollNo: 266, name: "Gajera Rakshit Ketanbhai", status: "Pending" },
            { rollNo: 267, name: "Parmar Darpan Jitendra", status: "Pending" },
            { rollNo: 268, name: "Trivedi Manan Vijaykumar", status: "Pending" },
            { rollNo: 269, name: "Dave Maharshi Kirtikumar", status: "Pending" },
            { rollNo: 270, name: "Param Rameshbhai Kotadiya", status: "Pending" },
            { rollNo: 271, name: "Patel Archi Pradipbhai", status: "Pending" },
            { rollNo: 272, name: "Saradhara Yug Vrajbhushanbhai", status: "Pending" },
            { rollNo: 273, name: "Padhariya Ruturajsinh Sureshbhai", status: "Pending" },
            { rollNo: 274, name: "Vegad Jenil Ashokbhai", status: "Pending" },
            { rollNo: 275, name: "Patani Kismatbanu Shahidbhai", status: "Pending" },
            { rollNo: 276, name: "Savaliya Jinesh Kantilal", status: "Pending" },
            { rollNo: 277, name: "Tank Darshan Chetanbhai", status: "Pending" },
            { rollNo: 278, name: "Ghodasara Dev Ketanbhai", status: "Pending" },
            { rollNo: 279, name: "Pithadiya Yash Devendrabhai", status: "Pending" },
            { rollNo: 280, name: "Gohel Jenil Amitkumar", status: "Pending" }

        ];

        function render() {
            let temp = '';
            let count = 0;

            for (i = 0; i < students.length; i++) {
                if (students[i].status == 'Absent') {
                    count++;
                }
            }
            for (i = 0; i < students.length; i++) {
                let color = students[i].status === "Present" ? "green" :
                    students[i].status === "Absent" ? "red" : "black";

                temp += `<tr>
                <td>${students[i].rollNo}</td>
                <td>${students[i].name}</td>
                <td style="color: ${color}">${students[i].status}</td>
                <td><button type="button" class="btn btn-success" onclick="updateStatus(${i} , 'Present')">Present</button></td>
                <td><button type="button" class="btn btn-danger" onclick="updateStatus(${i} , 'Absent')">Absent</button></td>
            </tr>`
            }

            document.getElementById("tblbody").innerHTML = temp;
            document.getElementById("totalabs").innerHTML = count;
        }

        function updateStatus(index, newStatus) {
            students[index].status = newStatus;
            render();
        }

        function allpre() {
            for (i = 0; i < students.length; i++) {
                students[i].status = 'Present';
            }
            render();
        }

        function allabs() {
            for (i = 0; i < students.length; i++) {
                students[i].status = 'Absent';
            }
            render();
        }

        function saveAbsent() {
            let today = new Date();
            let dateStr = today.toISOString().split('T')[0]; // yyyy-mm-dd format

            let absentList = students.filter(s => s.status === "Absent");
            if (absentList.length === 0) {
                alert("No students absent today!");
                return;
            }

            // Text header
            let textContent = "Absent Students on " + dateStr + "\n\n";

            // Add absent students line by line
            absentList.forEach(s => {
                textContent += `Roll No: ${s.rollNo} - Name: ${s.name}\n`;
            });

            // Make text file
            let blob = new Blob([textContent], { type: "text/plain;charset=utf-8;" });
            let link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = dateStr + "_absent.txt"; // Example: 2025-08-21_absent.txt
            link.click();
        }

            window.addEventListener("scroll", function() {
        if (window.scrollY > 300) { // 300px se zyada scroll
            document.getElementById("abc").style.display = "block";
        } else {
            document.getElementById("abc").style.display = "none";
        }
    });

    // Scroll to top on click
    document.getElementById("abc").addEventListener("click", function() {
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        });
    });

        render();
    </script>

</body>

</html>